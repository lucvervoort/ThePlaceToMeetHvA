2022-12-18 10:15:42.116 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:15:42.208 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:15:42.217 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:15:42.228 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:15:42.232 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:15:42.235 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:15:42.239 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:15:42.243 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:15:42.246 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:15:42.696 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:15:42.698 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:15:42.700 +01:00 [INF] Hosting environment: Development
2022-12-18 10:15:42.701 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:15:44.499 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:15:44.504 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:15:44.506 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:15:44.508 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:15:44.509 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:15:44.511 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:15:44.513 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:15:44.737 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:15:44.760 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:15:44.991 +01:00 [INF] HTTP GET / responded 200 in 572.1388 ms
2022-12-18 10:20:03.985 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:20:04.191 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:20:04.200 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:20:04.208 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:20:04.212 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:20:04.216 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:20:04.221 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:20:04.226 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:20:04.229 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:20:04.861 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:20:04.865 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:20:04.868 +01:00 [INF] Hosting environment: Development
2022-12-18 10:20:04.872 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:20:05.865 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:20:05.870 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:20:05.872 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:20:05.874 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:20:05.876 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:20:05.879 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:20:05.881 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:20:06.293 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:20:06.311 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:20:06.582 +01:00 [INF] HTTP GET / responded 200 in 779.1217 ms
2022-12-18 10:22:01.747 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:01.796 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:01.804 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:22:01.828 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:22:01.834 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:22:01.842 +01:00 [DBG] Start discovery request
2022-12-18 10:22:01.916 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:22:01.966 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:22:01.971 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:22:02.039 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:36:23". Retires in "103.23:36:23"
2022-12-18 10:22:02.067 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 339.7006 ms
2022-12-18 10:22:02.236 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:02.245 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:02.250 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:22:02.258 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:22:02.262 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:22:02.268 +01:00 [DBG] Start key discovery request
2022-12-18 10:22:02.436 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 212.9563 ms
2022-12-18 10:22:03.372 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:03.374 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:03.376 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 10:22:03.383 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 10:22:03.386 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 10:22:03.401 +01:00 [DBG] Start authorize request
2022-12-18 10:22:03.426 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:03.431 +01:00 [DBG] No user present in authorize request
2022-12-18 10:22:03.437 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:22:03.459 +01:00 [ERR] Unknown client or not enabled: interactive.public
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","state":"-HsEwEelcApVZRADre6aHQ","code_challenge":"dCI242v1Sl58i0a7_D2abuIfA5AxCL2A9mCpfsUSMhQ","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:22:03.467 +01:00 [ERR] Request validation failed
2022-12-18 10:22:03.472 +01:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","state":"-HsEwEelcApVZRADre6aHQ","code_challenge":"dCI242v1Sl58i0a7_D2abuIfA5AxCL2A9mCpfsUSMhQ","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:22:03.492 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"unauthorized_client","ErrorDescription":"Unknown client or client not enabled","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMN0R469V95S:00000001","TimeStamp":"2022-12-18T09:22:03.4894164Z","ProcessId":48236,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2022-12-18 10:22:03.513 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 141.6742 ms
2022-12-18 10:22:03.522 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:03.525 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:22:03.575 +01:00 [INF] HTTP GET /home/error responded 200 in 53.6133 ms
2022-12-18 10:22:03.649 +01:00 [INF] HTTP GET /css/site.css responded 304 in 42.4618 ms
2022-12-18 10:22:03.649 +01:00 [INF] HTTP GET /lib/bootstrap/dist/js/bootstrap.bundle.min.js responded 304 in 27.8431 ms
2022-12-18 10:22:03.649 +01:00 [INF] HTTP GET /lib/bootstrap/dist/css/bootstrap.min.css responded 304 in 44.6268 ms
2022-12-18 10:22:03.649 +01:00 [INF] HTTP GET /lib/jquery/dist/jquery.slim.min.js responded 304 in 42.0099 ms
2022-12-18 10:22:03.649 +01:00 [INF] HTTP GET /lib/bootstrap4-glyphicons/css/bootstrap-glyphicons.min.css responded 304 in 42.4137 ms
2022-12-18 10:22:03.649 +01:00 [INF] HTTP GET /duende-logo.svg responded 304 in 19.3581 ms
2022-12-18 10:29:11.441 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:29:11.525 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:29:11.531 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:29:11.538 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:29:11.540 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:29:11.542 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:29:11.544 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:29:11.546 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:29:11.549 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:29:11.976 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:29:11.978 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:29:11.981 +01:00 [INF] Hosting environment: Development
2022-12-18 10:29:11.983 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:29:13.330 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:29:13.335 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:29:13.337 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:29:13.339 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:29:13.341 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:29:13.344 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:29:13.346 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:29:13.548 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:29:13.573 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:29:13.842 +01:00 [INF] HTTP GET / responded 200 in 577.9289 ms
2022-12-18 10:29:27.526 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:29:27.534 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:29:27.551 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:29:27.588 +01:00 [INF] HTTP GET /diagnostics responded 200 in 84.1830 ms
2022-12-18 10:29:49.382 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:49.390 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:49.397 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:29:49.405 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:29:49.413 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:29:49.418 +01:00 [DBG] Start discovery request
2022-12-18 10:29:49.513 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:29:49.574 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:29:49.579 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:29:49.620 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:28:36". Retires in "103.23:28:36"
2022-12-18 10:29:49.641 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 266.0349 ms
2022-12-18 10:29:49.731 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:49.736 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:49.739 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:29:49.744 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:29:49.748 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:29:49.753 +01:00 [DBG] Start key discovery request
2022-12-18 10:29:49.782 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 50.9896 ms
2022-12-18 10:29:50.858 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:50.861 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:50.864 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 10:29:50.873 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 10:29:50.875 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 10:29:50.887 +01:00 [DBG] Start authorize request
2022-12-18 10:29:50.919 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:50.925 +01:00 [DBG] No user present in authorize request
2022-12-18 10:29:50.930 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:29:50.942 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:29:50.952 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:29:50.979 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:29:50.991 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"k9E5qMDaGKu4laWYLHk1Fw","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"k9E5qMDaGKu4laWYLHk1Fw","code_challenge":"knYxwIAh4fTcTSAZ1G9iLbmv96NAlpyemaDb9Za6RoA","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:29:51.000 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 10:29:51.007 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 149.2777 ms
2022-12-18 10:29:51.018 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:51.022 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:51.062 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:29:51.066 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:29:51.070 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:29:51.073 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:29:51.077 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:29:51.144 +01:00 [INF] HTTP GET /Account/Login responded 200 in 125.8198 ms
2022-12-18 10:29:51.219 +01:00 [INF] HTTP GET /lib/bootstrap/dist/css/bootstrap.min.css responded 304 in 48.5614 ms
2022-12-18 10:29:51.220 +01:00 [INF] HTTP GET /lib/jquery/dist/jquery.slim.min.js responded 304 in 31.4257 ms
2022-12-18 10:29:51.221 +01:00 [INF] HTTP GET /duende-logo.svg responded 304 in 25.8656 ms
2022-12-18 10:29:51.220 +01:00 [INF] HTTP GET /lib/bootstrap4-glyphicons/css/bootstrap-glyphicons.min.css responded 304 in 47.2473 ms
2022-12-18 10:29:51.219 +01:00 [INF] HTTP GET /css/site.css responded 304 in 46.1932 ms
2022-12-18 10:29:51.221 +01:00 [INF] HTTP GET /lib/bootstrap/dist/js/bootstrap.bundle.min.js responded 304 in 25.8946 ms
2022-12-18 10:30:06.458 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2022-12-18 10:30:06.467 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:06.471 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:06.508 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:06.513 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:30:06.517 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:30:06.522 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:30:06.527 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:30:08.319 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:30:08.323 +01:00 [DBG] Adding idp claim with value: local
2022-12-18 10:30:08.327 +01:00 [DBG] Adding auth_time claim with value: 1671355808
2022-12-18 10:30:08.332 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:08.337 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:08.350 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:30:08.378 +01:00 [INF] {"Username":"peter@hogent.be","Provider":null,"ProviderUserId":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","DisplayName":"peter@hogent.be","Endpoint":"UI","ClientId":"interactive.public","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMN0R99CLMKB:00000013","TimeStamp":"2022-12-18T09:30:08.3763128Z","ProcessId":44188,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2022-12-18 10:30:08.387 +01:00 [INF] HTTP POST /Account/Login responded 302 in 1935.1101 ms
2022-12-18 10:30:08.413 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:30:08.417 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:30:08.446 +01:00 [INF] HTTP GET /Redirect responded 200 in 45.4647 ms
2022-12-18 10:30:08.487 +01:00 [INF] HTTP GET /js/signin-redirect.js responded 200 in 14.3455 ms
2022-12-18 10:30:08.521 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:30:08.526 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:30:08.532 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2022-12-18 10:30:08.548 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint
2022-12-18 10:30:08.552 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2022-12-18 10:30:08.564 +01:00 [DBG] Start authorize callback request
2022-12-18 10:30:08.569 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 10:30:08.575 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:30:08.580 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:30:08.584 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:30:08.589 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:30:08.602 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"k9E5qMDaGKu4laWYLHk1Fw","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"D0E129CF3FD4EC27FE82912119687921","Raw":{"response_type":"code","state":"k9E5qMDaGKu4laWYLHk1Fw","code_challenge":"knYxwIAh4fTcTSAZ1G9iLbmv96NAlpyemaDb9Za6RoA","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:30:08.698 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 10:30:08.705 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 10:30:08.741 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****EE-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0R99CLMKB:0000001D","TimeStamp":"2022-12-18T09:30:08.7397552Z","ProcessId":44188,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 10:30:08.747 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"k9E5qMDaGKu4laWYLHk1Fw","Scope":"openid profile test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 10:30:08.755 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:30:08.760 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:30:08.765 +01:00 [INF] HTTP GET /connect/authorize/callback responded 302 in 247.1428 ms
2022-12-18 10:30:09.071 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:09.073 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:09.075 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:30:09.078 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:30:09.080 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:30:09.083 +01:00 [DBG] Start discovery request
2022-12-18 10:30:09.087 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:28:16". Retires in "103.23:28:16"
2022-12-18 10:30:09.089 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 18.8455 ms
2022-12-18 10:30:09.141 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:09.143 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:09.145 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:30:09.148 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:30:09.151 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:30:09.153 +01:00 [DBG] Start key discovery request
2022-12-18 10:30:09.156 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 14.8700 ms
2022-12-18 10:30:09.248 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:09.250 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:30:09.254 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2022-12-18 10:30:09.260 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: Duende.IdentityServer.Endpoints.TokenEndpoint
2022-12-18 10:30:09.264 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.TokenEndpoint for /connect/token
2022-12-18 10:30:09.270 +01:00 [DBG] Start token request.
2022-12-18 10:30:09.276 +01:00 [DBG] Start client validation
2022-12-18 10:30:09.284 +01:00 [DBG] Start parsing Basic Authentication secret
2022-12-18 10:30:09.291 +01:00 [DBG] Start parsing for secret in post body
2022-12-18 10:30:09.297 +01:00 [DBG] client id without secret found
2022-12-18 10:30:09.301 +01:00 [DBG] Parser found secret: PostBodySecretParser
2022-12-18 10:30:09.306 +01:00 [DBG] Secret id found: interactive.public
2022-12-18 10:30:09.311 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:30:09.317 +01:00 [DBG] Hashed shared secret validator cannot process NoSecret
2022-12-18 10:30:09.321 +01:00 [DBG] Secret validators could not validate secret
2022-12-18 10:30:09.327 +01:00 [INF] {"ClientId":"interactive.public","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HMN0R99CLMKD:00000001","TimeStamp":"2022-12-18T09:30:09.3271325Z","ProcessId":44188,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2022-12-18 10:30:09.331 +01:00 [ERR] Client secret validation failed for client: interactive.public.
2022-12-18 10:30:09.337 +01:00 [INF] HTTP POST /connect/token responded 400 in 89.6964 ms
2022-12-18 10:34:45.756 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:34:45.845 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:34:45.854 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:34:45.862 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:34:45.866 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:34:45.870 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:34:45.874 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:34:45.877 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:34:45.881 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:34:46.481 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:34:46.484 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:34:46.486 +01:00 [INF] Hosting environment: Development
2022-12-18 10:34:46.489 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:34:47.733 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:34:47.738 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:34:47.740 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:34:47.743 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:34:47.745 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:34:47.747 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:34:47.749 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:34:47.951 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:34:47.971 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:34:48.238 +01:00 [INF] HTTP GET / responded 200 in 588.7590 ms
2022-12-18 10:35:08.811 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:08.843 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:08.853 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:35:08.878 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:35:08.886 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:35:08.895 +01:00 [DBG] Start discovery request
2022-12-18 10:35:08.985 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:35:09.051 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:35:09.054 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:35:09.114 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:23:16". Retires in "103.23:23:16"
2022-12-18 10:35:09.139 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 335.7344 ms
2022-12-18 10:35:09.213 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:09.219 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:09.221 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:35:09.226 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:35:09.229 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:35:09.234 +01:00 [DBG] Start key discovery request
2022-12-18 10:35:09.269 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 63.0263 ms
2022-12-18 10:35:10.107 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:10.110 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:10.112 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 10:35:10.118 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 10:35:10.120 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 10:35:10.132 +01:00 [DBG] Start authorize request
2022-12-18 10:35:10.163 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:10.169 +01:00 [DBG] No user present in authorize request
2022-12-18 10:35:10.175 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:35:10.191 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:35:10.205 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:35:10.231 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:35:10.242 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"34liB1dMhz5c8ELUdi-kxA","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"34liB1dMhz5c8ELUdi-kxA","code_challenge":"9sXa7aYhpGNxxtTFLg5yXsE1KRM6zbFM4jPzMGSel1Q","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:35:10.252 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 10:35:10.259 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 152.0411 ms
2022-12-18 10:35:10.269 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:10.272 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:10.330 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:10.334 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:35:10.339 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:35:10.342 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:35:10.346 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:35:10.430 +01:00 [INF] HTTP GET /Account/Login responded 200 in 161.7228 ms
2022-12-18 10:35:21.614 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2022-12-18 10:35:21.619 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:21.622 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:21.651 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:21.655 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:35:21.659 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:35:21.661 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:35:21.664 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:35:23.176 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:35:23.181 +01:00 [DBG] Adding idp claim with value: local
2022-12-18 10:35:23.185 +01:00 [DBG] Adding auth_time claim with value: 1671356123
2022-12-18 10:35:23.188 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:23.191 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:23.197 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:35:23.225 +01:00 [INF] {"Username":"peter@hogent.be","Provider":null,"ProviderUserId":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","DisplayName":"peter@hogent.be","Endpoint":"UI","ClientId":"interactive.public","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMN0RCD0LTKF:00000007","TimeStamp":"2022-12-18T09:35:23.2218447Z","ProcessId":8408,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2022-12-18 10:35:23.232 +01:00 [INF] HTTP POST /Account/Login responded 302 in 1623.9412 ms
2022-12-18 10:35:23.246 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:35:23.251 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:35:23.282 +01:00 [INF] HTTP GET /Redirect responded 200 in 38.6276 ms
2022-12-18 10:35:23.382 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:35:23.387 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:35:23.392 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2022-12-18 10:35:23.404 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint
2022-12-18 10:35:23.407 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2022-12-18 10:35:23.415 +01:00 [DBG] Start authorize callback request
2022-12-18 10:35:23.418 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 10:35:23.422 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:35:23.426 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:35:23.430 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:35:23.434 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:35:23.449 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"34liB1dMhz5c8ELUdi-kxA","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"8EAF553A2265E3CB79347E39FE05A360","Raw":{"response_type":"code","state":"34liB1dMhz5c8ELUdi-kxA","code_challenge":"9sXa7aYhpGNxxtTFLg5yXsE1KRM6zbFM4jPzMGSel1Q","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:35:23.535 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 10:35:23.540 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 10:35:23.566 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****2E-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0RCD0LTKF:0000000F","TimeStamp":"2022-12-18T09:35:23.5648218Z","ProcessId":8408,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 10:35:23.571 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"34liB1dMhz5c8ELUdi-kxA","Scope":"openid profile test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 10:35:23.577 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:35:23.581 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:35:23.587 +01:00 [INF] HTTP GET /connect/authorize/callback responded 302 in 254.9544 ms
2022-12-18 10:35:23.925 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:23.929 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:23.932 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:35:23.936 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:35:23.940 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:35:23.944 +01:00 [DBG] Start discovery request
2022-12-18 10:35:23.950 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:23:02". Retires in "103.23:23:02"
2022-12-18 10:35:23.954 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 29.2875 ms
2022-12-18 10:35:24.020 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:24.023 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:24.026 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:35:24.029 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:35:24.032 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:35:24.035 +01:00 [DBG] Start key discovery request
2022-12-18 10:35:24.038 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 17.7479 ms
2022-12-18 10:35:24.126 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:24.129 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:35:24.131 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2022-12-18 10:35:24.137 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: Duende.IdentityServer.Endpoints.TokenEndpoint
2022-12-18 10:35:24.139 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.TokenEndpoint for /connect/token
2022-12-18 10:35:24.144 +01:00 [DBG] Start token request.
2022-12-18 10:35:24.148 +01:00 [DBG] Start client validation
2022-12-18 10:35:24.152 +01:00 [DBG] Start parsing Basic Authentication secret
2022-12-18 10:35:24.156 +01:00 [DBG] Start parsing for secret in post body
2022-12-18 10:35:24.160 +01:00 [DBG] Parser found secret: PostBodySecretParser
2022-12-18 10:35:24.163 +01:00 [DBG] Secret id found: interactive.public
2022-12-18 10:35:24.166 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:35:24.173 +01:00 [DBG] No matching hashed secret found.
2022-12-18 10:35:24.177 +01:00 [DBG] Secret validators could not validate secret
2022-12-18 10:35:24.181 +01:00 [INF] {"ClientId":"interactive.public","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HMN0RCD0LTKH:00000001","TimeStamp":"2022-12-18T09:35:24.1810156Z","ProcessId":8408,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2022-12-18 10:35:24.184 +01:00 [ERR] Client secret validation failed for client: interactive.public.
2022-12-18 10:35:24.190 +01:00 [INF] HTTP POST /connect/token responded 400 in 63.6466 ms
2022-12-18 10:35:56.657 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:35:56.755 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:35:56.764 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:35:56.774 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:35:56.777 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:35:56.780 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:35:56.783 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:35:56.786 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:35:56.789 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:35:57.173 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:35:57.177 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:35:57.181 +01:00 [INF] Hosting environment: Development
2022-12-18 10:35:57.183 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:35:58.779 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:35:58.783 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:35:58.786 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:35:58.787 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:35:58.789 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:35:58.791 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:35:58.794 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:35:59.020 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:35:59.047 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:35:59.301 +01:00 [INF] HTTP GET / responded 200 in 585.2045 ms
2022-12-18 10:36:18.550 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:18.561 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:18.568 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:36:18.586 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:36:18.595 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:36:18.601 +01:00 [DBG] Start discovery request
2022-12-18 10:36:18.700 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:36:18.762 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:36:18.766 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:36:18.812 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:22:07". Retires in "103.23:22:07"
2022-12-18 10:36:18.838 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 292.8146 ms
2022-12-18 10:36:18.941 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:18.949 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:18.954 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:36:18.961 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:36:18.964 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:36:18.969 +01:00 [DBG] Start key discovery request
2022-12-18 10:36:19.009 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 78.6490 ms
2022-12-18 10:36:19.834 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:19.837 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:19.840 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 10:36:19.847 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 10:36:19.851 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 10:36:19.865 +01:00 [DBG] Start authorize request
2022-12-18 10:36:19.893 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:19.898 +01:00 [DBG] No user present in authorize request
2022-12-18 10:36:19.904 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:36:19.924 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:36:19.938 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:36:19.964 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:36:19.979 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"MAvWj12tE3dmhln3M8jHQA","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"MAvWj12tE3dmhln3M8jHQA","code_challenge":"x4Pzt5YzvA4D5wm7_NrcSGL41N1jnFZ2iO7tuDbWY0o","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:36:19.989 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 10:36:19.997 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 162.8033 ms
2022-12-18 10:36:20.010 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:20.014 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:20.071 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:20.076 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:36:20.080 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:36:20.084 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:36:20.089 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:36:20.170 +01:00 [INF] HTTP GET /Account/Login responded 200 in 160.8773 ms
2022-12-18 10:36:20.229 +01:00 [INF] HTTP GET /lib/bootstrap/dist/css/bootstrap.min.css responded 304 in 23.4624 ms
2022-12-18 10:36:20.229 +01:00 [INF] HTTP GET /lib/bootstrap4-glyphicons/css/bootstrap-glyphicons.min.css responded 304 in 17.2447 ms
2022-12-18 10:36:20.229 +01:00 [INF] HTTP GET /lib/bootstrap/dist/js/bootstrap.bundle.min.js responded 304 in 15.5427 ms
2022-12-18 10:36:20.229 +01:00 [INF] HTTP GET /css/site.css responded 304 in 17.2631 ms
2022-12-18 10:36:20.229 +01:00 [INF] HTTP GET /lib/jquery/dist/jquery.slim.min.js responded 304 in 16.8973 ms
2022-12-18 10:36:20.229 +01:00 [INF] HTTP GET /duende-logo.svg responded 304 in 16.1041 ms
2022-12-18 10:36:30.280 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2022-12-18 10:36:30.285 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:30.290 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:30.331 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:30.336 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:36:30.339 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:36:30.344 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:36:30.349 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:36:31.726 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:36:31.733 +01:00 [DBG] Adding idp claim with value: local
2022-12-18 10:36:31.738 +01:00 [DBG] Adding auth_time claim with value: 1671356191
2022-12-18 10:36:31.745 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:31.750 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:31.761 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:36:31.800 +01:00 [INF] {"Username":"peter@hogent.be","Provider":null,"ProviderUserId":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","DisplayName":"peter@hogent.be","Endpoint":"UI","ClientId":"interactive.public","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMN0RD25UCLM:00000013","TimeStamp":"2022-12-18T09:36:31.7941554Z","ProcessId":5752,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2022-12-18 10:36:31.809 +01:00 [INF] HTTP POST /Account/Login responded 302 in 1535.5628 ms
2022-12-18 10:36:31.825 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:36:31.830 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:36:31.859 +01:00 [INF] HTTP GET /Redirect responded 200 in 35.6662 ms
2022-12-18 10:36:31.883 +01:00 [INF] HTTP GET /js/signin-redirect.js responded 304 in 1.2865 ms
2022-12-18 10:36:31.962 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:36:31.965 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:36:31.969 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2022-12-18 10:36:31.973 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint
2022-12-18 10:36:31.976 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2022-12-18 10:36:31.982 +01:00 [DBG] Start authorize callback request
2022-12-18 10:36:31.985 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 10:36:31.988 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:36:31.992 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:36:31.995 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:36:31.998 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:36:32.008 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"MAvWj12tE3dmhln3M8jHQA","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"06B5F00CAF1DD70D9108FF068180D3F7","Raw":{"response_type":"code","state":"MAvWj12tE3dmhln3M8jHQA","code_challenge":"x4Pzt5YzvA4D5wm7_NrcSGL41N1jnFZ2iO7tuDbWY0o","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:36:32.086 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 10:36:32.091 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 10:36:32.115 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****3A-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0RD25UCLM:0000001D","TimeStamp":"2022-12-18T09:36:32.1135094Z","ProcessId":5752,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 10:36:32.121 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"MAvWj12tE3dmhln3M8jHQA","Scope":"openid profile test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 10:36:32.128 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:36:32.132 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:36:32.137 +01:00 [INF] HTTP GET /connect/authorize/callback responded 302 in 225.7354 ms
2022-12-18 10:36:32.438 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:32.441 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:32.444 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:36:32.448 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:36:32.451 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:36:32.455 +01:00 [DBG] Start discovery request
2022-12-18 10:36:32.460 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:21:53". Retires in "103.23:21:53"
2022-12-18 10:36:32.464 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 27.0065 ms
2022-12-18 10:36:32.530 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:32.533 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:32.536 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:36:32.540 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:36:32.543 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:36:32.546 +01:00 [DBG] Start key discovery request
2022-12-18 10:36:32.550 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 20.1955 ms
2022-12-18 10:36:32.643 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:32.646 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:36:32.649 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2022-12-18 10:36:32.655 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: Duende.IdentityServer.Endpoints.TokenEndpoint
2022-12-18 10:36:32.658 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.TokenEndpoint for /connect/token
2022-12-18 10:36:32.663 +01:00 [DBG] Start token request.
2022-12-18 10:36:32.668 +01:00 [DBG] Start client validation
2022-12-18 10:36:32.672 +01:00 [DBG] Start parsing Basic Authentication secret
2022-12-18 10:36:32.677 +01:00 [DBG] Start parsing for secret in post body
2022-12-18 10:36:32.681 +01:00 [DBG] Parser found secret: PostBodySecretParser
2022-12-18 10:36:32.684 +01:00 [DBG] Secret id found: interactive.public
2022-12-18 10:36:32.686 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:36:32.694 +01:00 [INF] Secret: no description uses invalid hashing algorithm.
2022-12-18 10:36:32.697 +01:00 [DBG] Secret validators could not validate secret
2022-12-18 10:36:32.700 +01:00 [INF] {"ClientId":"interactive.public","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HMN0RD25UCLO:00000001","TimeStamp":"2022-12-18T09:36:32.7007252Z","ProcessId":5752,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2022-12-18 10:36:32.703 +01:00 [ERR] Client secret validation failed for client: interactive.public.
2022-12-18 10:36:32.710 +01:00 [INF] HTTP POST /connect/token responded 400 in 67.1044 ms
2022-12-18 10:38:18.181 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:38:18.213 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:38:18.215 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:38:18.219 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:38:18.219 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:38:18.219 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:38:18.219 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:38:18.220 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:38:18.220 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:38:18.413 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:38:18.413 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:38:18.413 +01:00 [INF] Hosting environment: Development
2022-12-18 10:38:18.413 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:38:19.172 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:38:19.174 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:38:19.175 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:38:19.175 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:38:19.175 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:38:19.175 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:38:19.175 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:38:19.326 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:38:19.341 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:38:19.507 +01:00 [INF] HTTP GET / responded 200 in 383.0784 ms
2022-12-18 10:38:38.406 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:38.409 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:38.412 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:38:38.426 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:38:38.429 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:38:38.430 +01:00 [DBG] Start discovery request
2022-12-18 10:38:38.507 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:38:38.528 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:38:38.529 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:38:38.569 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:19:47". Retires in "103.23:19:47"
2022-12-18 10:38:38.586 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 185.4262 ms
2022-12-18 10:38:38.699 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:38.704 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:38.705 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:38:38.708 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:38:38.708 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:38:38.710 +01:00 [DBG] Start key discovery request
2022-12-18 10:38:38.724 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 34.3286 ms
2022-12-18 10:38:39.604 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:39.605 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:39.605 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 10:38:39.609 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 10:38:39.609 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 10:38:39.611 +01:00 [DBG] Start authorize request
2022-12-18 10:38:39.634 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:39.637 +01:00 [DBG] No user present in authorize request
2022-12-18 10:38:39.639 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:38:39.648 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:39.655 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:38:39.671 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:38:39.680 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"Dc7gikyGbsT-euh5Zxwcaw","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"Dc7gikyGbsT-euh5Zxwcaw","code_challenge":"CrC_QTtk5uzFeoFagAEj9vNXvtzGSktI0fbSwcweCig","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:38:39.685 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 10:38:39.688 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 83.8340 ms
2022-12-18 10:38:39.693 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:39.694 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:39.736 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:39.737 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:38:39.737 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:39.737 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:38:39.738 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:38:39.806 +01:00 [INF] HTTP GET /Account/Login responded 200 in 112.8449 ms
2022-12-18 10:38:48.101 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2022-12-18 10:38:48.101 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:48.101 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:48.120 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:48.120 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:38:48.120 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:48.120 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:38:48.120 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:38:49.414 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:38:49.415 +01:00 [DBG] Adding idp claim with value: local
2022-12-18 10:38:49.415 +01:00 [DBG] Adding auth_time claim with value: 1671356329
2022-12-18 10:38:49.417 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:49.417 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:49.420 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:38:49.430 +01:00 [INF] {"Username":"peter@hogent.be","Provider":null,"ProviderUserId":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","DisplayName":"peter@hogent.be","Endpoint":"UI","ClientId":"interactive.public","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMN0REC8NP8H:00000007","TimeStamp":"2022-12-18T09:38:49.4259427Z","ProcessId":27904,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2022-12-18 10:38:49.433 +01:00 [INF] HTTP POST /Account/Login responded 302 in 1337.1681 ms
2022-12-18 10:38:49.440 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:38:49.440 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:38:49.449 +01:00 [INF] HTTP GET /Redirect responded 200 in 11.1628 ms
2022-12-18 10:38:49.532 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:38:49.532 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:38:49.532 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2022-12-18 10:38:49.534 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint
2022-12-18 10:38:49.534 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2022-12-18 10:38:49.536 +01:00 [DBG] Start authorize callback request
2022-12-18 10:38:49.536 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 10:38:49.537 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:38:49.537 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:49.537 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:38:49.537 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:38:49.543 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"Dc7gikyGbsT-euh5Zxwcaw","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"E18CA2C0B3D61ED9E86BBFBA8D1ECE5A","Raw":{"response_type":"code","state":"Dc7gikyGbsT-euh5Zxwcaw","code_challenge":"CrC_QTtk5uzFeoFagAEj9vNXvtzGSktI0fbSwcweCig","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:38:49.600 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 10:38:49.601 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 10:38:49.618 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****72-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0REC8NP8H:0000000F","TimeStamp":"2022-12-18T09:38:49.6176905Z","ProcessId":27904,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 10:38:49.619 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"Dc7gikyGbsT-euh5Zxwcaw","Scope":"openid profile test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 10:38:49.622 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:38:49.622 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:38:49.623 +01:00 [INF] HTTP GET /connect/authorize/callback responded 302 in 111.9527 ms
2022-12-18 10:38:49.949 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:49.950 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:49.950 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:38:49.950 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:38:49.951 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:38:49.951 +01:00 [DBG] Start discovery request
2022-12-18 10:38:49.952 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:19:36". Retires in "103.23:19:36"
2022-12-18 10:38:49.953 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 4.0090 ms
2022-12-18 10:38:50.009 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.009 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.009 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:38:50.010 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:38:50.010 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:38:50.010 +01:00 [DBG] Start key discovery request
2022-12-18 10:38:50.010 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 1.7743 ms
2022-12-18 10:38:50.107 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.108 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.108 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2022-12-18 10:38:50.112 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: Duende.IdentityServer.Endpoints.TokenEndpoint
2022-12-18 10:38:50.112 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.TokenEndpoint for /connect/token
2022-12-18 10:38:50.116 +01:00 [DBG] Start token request.
2022-12-18 10:38:50.119 +01:00 [DBG] Start client validation
2022-12-18 10:38:50.122 +01:00 [DBG] Start parsing Basic Authentication secret
2022-12-18 10:38:50.124 +01:00 [DBG] Start parsing for secret in post body
2022-12-18 10:38:50.126 +01:00 [DBG] Parser found secret: PostBodySecretParser
2022-12-18 10:38:50.127 +01:00 [DBG] Secret id found: interactive.public
2022-12-18 10:38:50.127 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:50.135 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2022-12-18 10:38:50.135 +01:00 [DBG] Client validation success
2022-12-18 10:38:50.136 +01:00 [INF] {"ClientId":"interactive.public","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HMN0REC8NP8J:00000001","TimeStamp":"2022-12-18T09:38:50.1362284Z","ProcessId":27904,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2022-12-18 10:38:50.139 +01:00 [DBG] Start token request validation
2022-12-18 10:38:50.145 +01:00 [DBG] Start validation of authorization code token request
2022-12-18 10:38:50.154 +01:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2022-12-18 10:38:50.176 +01:00 [DBG] Validation of authorization code token request success
2022-12-18 10:38:50.178 +01:00 [INF] Token request validation success, {"ClientId":"interactive.public","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"****72-1","RefreshToken":"********","UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"42DF5A01AF7C5BC0E85083F54F0A90119C1D241C106A83912238369344F90872-1","redirect_uri":"myapp://callback","code_verifier":"YS8Tm6v1fqs5ojiVYhLwulT4uFGKUHDUIvm0X9AF5GM","client_id":"interactive.public","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2022-12-18 10:38:50.181 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:50.184 +01:00 [DBG] Getting claims for access token for client: interactive.public
2022-12-18 10:38:50.185 +01:00 [DBG] Getting claims for access token for subject: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 10:38:50.260 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:50.264 +01:00 [DBG] Getting claims for identity token for subject: d8ba6bba-cb55-4259-b84d-9e158e73caf2 and client: interactive.public
2022-12-18 10:38:50.265 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2022-12-18 10:38:50.268 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****zg-w","$type":"Token"},{"TokenType":"access_token","TokenValue":"****1diA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0REC8NP8J:00000001","TimeStamp":"2022-12-18T09:38:50.2672463Z","ProcessId":27904,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 10:38:50.268 +01:00 [DBG] Token request success.
2022-12-18 10:38:50.272 +01:00 [INF] HTTP POST /connect/token responded 200 in 164.7915 ms
2022-12-18 10:38:50.377 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.378 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.378 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:38:50.380 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:38:50.380 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:38:50.380 +01:00 [DBG] Start discovery request
2022-12-18 10:38:50.380 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:19:35". Retires in "103.23:19:35"
2022-12-18 10:38:50.380 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 3.5030 ms
2022-12-18 10:38:50.433 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.433 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.433 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:38:50.435 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:38:50.435 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:38:50.435 +01:00 [DBG] Start key discovery request
2022-12-18 10:38:50.436 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 3.3368 ms
2022-12-18 10:38:50.501 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.502 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:38:50.502 +01:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2022-12-18 10:38:50.504 +01:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: Duende.IdentityServer.Endpoints.UserInfoEndpoint
2022-12-18 10:38:50.504 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.UserInfoEndpoint for /connect/userinfo
2022-12-18 10:38:50.505 +01:00 [DBG] Start userinfo request
2022-12-18 10:38:50.506 +01:00 [DBG] Bearer token found in header
2022-12-18 10:38:50.542 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:50.544 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:38:50.551 +01:00 [DBG] Calling into custom token validator: Duende.IdentityServer.Validation.DefaultCustomTokenValidator
2022-12-18 10:38:50.552 +01:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"ABF0803E9B6C47BFA43D51E63480F64D","Claims":{"iss":"https://localhost:5005","nbf":1671356330,"iat":1671356330,"exp":1671359930,"aud":"https://localhost:5005/resources","scope":["openid","profile","test.api"],"amr":"pwd","client_id":"interactive.public","sub":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","auth_time":1671356329,"idp":"local","sid":"E18CA2C0B3D61ED9E86BBFBA8D1ECE5A","jti":"ABF0803E9B6C47BFA43D51E63480F64D"},"$type":"TokenValidationLog"}
2022-12-18 10:38:50.556 +01:00 [DBG] Creating userinfo response
2022-12-18 10:38:50.557 +01:00 [DBG] Scopes in access token: openid profile test.api
2022-12-18 10:38:50.560 +01:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2022-12-18 10:38:50.564 +01:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2022-12-18 10:38:50.564 +01:00 [DBG] End userinfo request
2022-12-18 10:38:50.564 +01:00 [INF] HTTP GET /connect/userinfo responded 200 in 63.5246 ms
2022-12-18 10:39:33.063 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:33.065 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:33.074 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:33.083 +01:00 [INF] HTTP GET /diagnostics responded 200 in 26.8118 ms
2022-12-18 10:39:37.453 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:37.454 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:37.491 +01:00 [INF] HTTP GET /grants responded 200 in 38.7411 ms
2022-12-18 10:39:41.976 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:41.976 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:41.985 +01:00 [DBG] No user present
2022-12-18 10:39:41.995 +01:00 [INF] HTTP GET /ciba/all responded 200 in 19.5680 ms
2022-12-18 10:39:45.291 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:45.291 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:39:45.291 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:39:45.292 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:39:45.292 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:39:45.292 +01:00 [DBG] Start discovery request
2022-12-18 10:39:45.292 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:18:40". Retires in "103.23:18:40"
2022-12-18 10:39:45.295 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 4.5895 ms
2022-12-18 10:47:28.900 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:47:28.969 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:47:28.977 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:47:28.988 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:47:28.990 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:47:28.993 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:47:28.995 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:47:28.999 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:47:29.003 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:47:35.065 +01:00 [FTL] Unhandled exception
System.InvalidOperationException: The service collection cannot be modified because it is read-only.
   at Microsoft.Extensions.DependencyInjection.ServiceCollection.ThrowReadOnlyException()
   at Microsoft.Extensions.DependencyInjection.ServiceCollection.System.Collections.Generic.ICollection<Microsoft.Extensions.DependencyInjection.ServiceDescriptor>.Add(ServiceDescriptor item)
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App\Program.cs:line 32
2022-12-18 10:47:38.141 +01:00 [INF] Shut down complete
2022-12-18 10:52:26.140 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:52:26.230 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:52:26.238 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:52:26.248 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:52:26.251 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:52:26.255 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:52:26.258 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:52:26.261 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:52:26.265 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:52:26.741 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:52:26.744 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:52:26.747 +01:00 [INF] Hosting environment: Development
2022-12-18 10:52:26.749 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:52:28.556 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:52:28.560 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:52:28.562 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:52:28.564 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:52:28.566 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:52:28.568 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:52:28.571 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:52:28.769 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:52:28.792 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:52:29.079 +01:00 [INF] HTTP GET / responded 200 in 573.3226 ms
2022-12-18 10:55:18.386 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 10:55:18.465 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 10:55:18.472 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 10:55:18.481 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 10:55:18.484 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 10:55:18.488 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 10:55:18.492 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 10:55:18.495 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 10:55:18.498 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 10:55:18.767 +01:00 [INF] Starting IdentityServer...
2022-12-18 10:55:19.042 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 10:55:19.045 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 10:55:19.047 +01:00 [INF] Hosting environment: Development
2022-12-18 10:55:19.050 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 10:55:20.435 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 10:55:20.441 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 10:55:20.443 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 10:55:20.447 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 10:55:20.450 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 10:55:20.453 +01:00 [DBG] Error Url: /home/error
2022-12-18 10:55:20.455 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 10:55:20.663 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:55:20.687 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:55:20.985 +01:00 [INF] HTTP GET / responded 200 in 611.0090 ms
2022-12-18 10:56:13.884 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:13.911 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:13.919 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:56:13.942 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:56:13.952 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:56:13.959 +01:00 [DBG] Start discovery request
2022-12-18 10:56:14.042 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:56:14.101 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:56:14.107 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 10:56:14.170 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:02:11". Retires in "103.23:02:11"
2022-12-18 10:56:14.190 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 333.1709 ms
2022-12-18 10:56:14.274 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:14.282 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:14.286 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:56:14.293 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:56:14.296 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:56:14.301 +01:00 [DBG] Start key discovery request
2022-12-18 10:56:14.334 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 68.3548 ms
2022-12-18 10:56:15.343 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:15.345 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:15.347 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 10:56:15.355 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 10:56:15.358 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 10:56:15.371 +01:00 [DBG] Start authorize request
2022-12-18 10:56:15.400 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:15.405 +01:00 [DBG] No user present in authorize request
2022-12-18 10:56:15.411 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:56:15.427 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:15.440 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:56:15.464 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:56:15.478 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"pcqiEGWiQ8HHxTYGu9fM7Q","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"pcqiEGWiQ8HHxTYGu9fM7Q","code_challenge":"5BaMCU0zjKU5gqEx73lzQRHgXae-qYIq2sNk8Dsy1gE","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:56:15.487 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 10:56:15.493 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 150.4859 ms
2022-12-18 10:56:15.503 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:15.505 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:15.554 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:15.557 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:56:15.562 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:15.566 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:56:15.569 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:56:15.650 +01:00 [INF] HTTP GET /Account/Login responded 200 in 148.0440 ms
2022-12-18 10:56:15.749 +01:00 [INF] HTTP GET /lib/bootstrap/dist/css/bootstrap.min.css responded 304 in 66.5501 ms
2022-12-18 10:56:15.749 +01:00 [INF] HTTP GET /lib/bootstrap4-glyphicons/css/bootstrap-glyphicons.min.css responded 304 in 62.8927 ms
2022-12-18 10:56:15.749 +01:00 [INF] HTTP GET /lib/bootstrap/dist/js/bootstrap.bundle.min.js responded 304 in 59.9122 ms
2022-12-18 10:56:15.749 +01:00 [INF] HTTP GET /css/site.css responded 304 in 62.7954 ms
2022-12-18 10:56:15.749 +01:00 [INF] HTTP GET /lib/jquery/dist/jquery.slim.min.js responded 304 in 62.6620 ms
2022-12-18 10:56:15.749 +01:00 [INF] HTTP GET /duende-logo.svg responded 304 in 16.2607 ms
2022-12-18 10:56:24.522 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2022-12-18 10:56:24.526 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:24.530 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:24.558 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:24.561 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:56:24.566 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:24.571 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:56:24.574 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:56:25.951 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:56:25.957 +01:00 [DBG] Adding idp claim with value: local
2022-12-18 10:56:25.961 +01:00 [DBG] Adding auth_time claim with value: 1671357385
2022-12-18 10:56:25.967 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:25.971 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:25.981 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:56:26.012 +01:00 [INF] {"Username":"peter@hogent.be","Provider":null,"ProviderUserId":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","DisplayName":"peter@hogent.be","Endpoint":"UI","ClientId":"interactive.public","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMN0RNSENRHV:00000013","TimeStamp":"2022-12-18T09:56:26.0080856Z","ProcessId":39328,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2022-12-18 10:56:26.021 +01:00 [INF] HTTP POST /Account/Login responded 302 in 1502.9395 ms
2022-12-18 10:56:26.033 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:56:26.039 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:56:26.059 +01:00 [INF] HTTP GET /Redirect responded 200 in 27.3150 ms
2022-12-18 10:56:26.083 +01:00 [INF] HTTP GET /js/signin-redirect.js responded 304 in 0.4355 ms
2022-12-18 10:56:26.184 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:56:26.188 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 10:56:26.192 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2022-12-18 10:56:26.196 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint
2022-12-18 10:56:26.199 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2022-12-18 10:56:26.203 +01:00 [DBG] Start authorize callback request
2022-12-18 10:56:26.207 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 10:56:26.210 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 10:56:26.213 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:26.215 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 10:56:26.217 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 10:56:26.223 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"pcqiEGWiQ8HHxTYGu9fM7Q","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"639A75AFA565372F72003814F08707EF","Raw":{"response_type":"code","state":"pcqiEGWiQ8HHxTYGu9fM7Q","code_challenge":"5BaMCU0zjKU5gqEx73lzQRHgXae-qYIq2sNk8Dsy1gE","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"myapp://callback"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 10:56:26.295 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 10:56:26.302 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 10:56:26.327 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****82-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0RNSENRHV:0000001D","TimeStamp":"2022-12-18T09:56:26.3262147Z","ProcessId":39328,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 10:56:26.334 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"pcqiEGWiQ8HHxTYGu9fM7Q","Scope":"openid profile test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 10:56:26.346 +01:00 [DBG] Augmenting SignInContext
2022-12-18 10:56:26.352 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 10:56:26.359 +01:00 [INF] HTTP GET /connect/authorize/callback responded 302 in 241.5453 ms
2022-12-18 10:56:26.787 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:26.792 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:26.795 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:56:26.799 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:56:26.801 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:56:26.805 +01:00 [DBG] Start discovery request
2022-12-18 10:56:26.810 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:01:59". Retires in "103.23:01:59"
2022-12-18 10:56:26.813 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 26.6403 ms
2022-12-18 10:56:26.870 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:26.874 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:26.877 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:56:26.881 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:56:26.884 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:56:26.887 +01:00 [DBG] Start key discovery request
2022-12-18 10:56:26.890 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 20.0449 ms
2022-12-18 10:56:26.999 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.003 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.007 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2022-12-18 10:56:27.013 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: Duende.IdentityServer.Endpoints.TokenEndpoint
2022-12-18 10:56:27.016 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.TokenEndpoint for /connect/token
2022-12-18 10:56:27.022 +01:00 [DBG] Start token request.
2022-12-18 10:56:27.027 +01:00 [DBG] Start client validation
2022-12-18 10:56:27.033 +01:00 [DBG] Start parsing Basic Authentication secret
2022-12-18 10:56:27.038 +01:00 [DBG] Start parsing for secret in post body
2022-12-18 10:56:27.043 +01:00 [DBG] Parser found secret: PostBodySecretParser
2022-12-18 10:56:27.047 +01:00 [DBG] Secret id found: interactive.public
2022-12-18 10:56:27.051 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:27.059 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2022-12-18 10:56:27.063 +01:00 [DBG] Client validation success
2022-12-18 10:56:27.068 +01:00 [INF] {"ClientId":"interactive.public","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HMN0RNSENRI1:00000001","TimeStamp":"2022-12-18T09:56:27.0680809Z","ProcessId":39328,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2022-12-18 10:56:27.073 +01:00 [DBG] Start token request validation
2022-12-18 10:56:27.084 +01:00 [DBG] Start validation of authorization code token request
2022-12-18 10:56:27.102 +01:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2022-12-18 10:56:27.120 +01:00 [DBG] Validation of authorization code token request success
2022-12-18 10:56:27.128 +01:00 [INF] Token request validation success, {"ClientId":"interactive.public","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"****82-1","RefreshToken":"********","UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"0E1DE9A1206B1B5592C6C218D52003236DEAC28DBD2EC6491A505D18D88C7082-1","redirect_uri":"myapp://callback","code_verifier":"3WLRldLT2bKWjD1z5YPITgo3bZJyUOzxOsL4QMCFkJ8","client_id":"interactive.public","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2022-12-18 10:56:27.137 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:27.150 +01:00 [DBG] Getting claims for access token for client: interactive.public
2022-12-18 10:56:27.155 +01:00 [DBG] Getting claims for access token for subject: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 10:56:27.255 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:27.265 +01:00 [DBG] Getting claims for identity token for subject: d8ba6bba-cb55-4259-b84d-9e158e73caf2 and client: interactive.public
2022-12-18 10:56:27.269 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2022-12-18 10:56:27.275 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****hulw","$type":"Token"},{"TokenType":"access_token","TokenValue":"****va5w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0RNSENRI1:00000001","TimeStamp":"2022-12-18T09:56:27.2750027Z","ProcessId":39328,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 10:56:27.280 +01:00 [DBG] Token request success.
2022-12-18 10:56:27.289 +01:00 [INF] HTTP POST /connect/token responded 200 in 290.2863 ms
2022-12-18 10:56:27.417 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.423 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.428 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 10:56:27.434 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 10:56:27.439 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 10:56:27.443 +01:00 [DBG] Start discovery request
2022-12-18 10:56:27.448 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.23:01:58". Retires in "103.23:01:58"
2022-12-18 10:56:27.453 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 36.1113 ms
2022-12-18 10:56:27.510 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.515 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.519 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 10:56:27.528 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 10:56:27.533 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 10:56:27.537 +01:00 [DBG] Start key discovery request
2022-12-18 10:56:27.541 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 31.2127 ms
2022-12-18 10:56:27.638 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.642 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 10:56:27.646 +01:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2022-12-18 10:56:27.651 +01:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: Duende.IdentityServer.Endpoints.UserInfoEndpoint
2022-12-18 10:56:27.654 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.UserInfoEndpoint for /connect/userinfo
2022-12-18 10:56:27.661 +01:00 [DBG] Start userinfo request
2022-12-18 10:56:27.666 +01:00 [DBG] Bearer token found in header
2022-12-18 10:56:27.702 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:27.709 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 10:56:27.716 +01:00 [DBG] Calling into custom token validator: Duende.IdentityServer.Validation.DefaultCustomTokenValidator
2022-12-18 10:56:27.722 +01:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"9FC800AAA1DDB228314AAA85388AC8FE","Claims":{"iss":"https://localhost:5005","nbf":1671357387,"iat":1671357387,"exp":1671360987,"aud":"https://localhost:5005/resources","scope":["openid","profile","test.api"],"amr":"pwd","client_id":"interactive.public","sub":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","auth_time":1671357385,"idp":"local","sid":"639A75AFA565372F72003814F08707EF","jti":"9FC800AAA1DDB228314AAA85388AC8FE"},"$type":"TokenValidationLog"}
2022-12-18 10:56:27.729 +01:00 [DBG] Creating userinfo response
2022-12-18 10:56:27.734 +01:00 [DBG] Scopes in access token: openid profile test.api
2022-12-18 10:56:27.739 +01:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2022-12-18 10:56:27.745 +01:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2022-12-18 10:56:27.749 +01:00 [DBG] End userinfo request
2022-12-18 10:56:27.755 +01:00 [INF] HTTP GET /connect/userinfo responded 200 in 116.7244 ms
2022-12-18 11:07:24.686 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:07:24.767 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:07:24.773 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:07:24.783 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:07:24.786 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:07:24.789 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:07:24.791 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:07:24.794 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:07:24.797 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:07:25.008 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:07:25.275 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:07:25.280 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:07:25.284 +01:00 [INF] Hosting environment: Development
2022-12-18 11:07:25.287 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:07:26.587 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:07:26.595 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:07:26.599 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:07:26.602 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:07:26.606 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:07:26.609 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:07:26.613 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:07:26.834 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:07:26.856 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:07:27.134 +01:00 [INF] HTTP GET / responded 200 in 603.8252 ms
2022-12-18 11:07:30.403 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:07:30.412 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:07:30.438 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:07:30.483 +01:00 [INF] HTTP GET /diagnostics responded 200 in 106.9914 ms
2022-12-18 11:20:06.328 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:20:06.366 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:20:06.368 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:20:06.370 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:20:06.370 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:20:06.370 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:20:06.371 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:20:06.371 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:20:06.371 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:20:06.451 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:20:06.554 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:20:06.554 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:20:06.554 +01:00 [INF] Hosting environment: Development
2022-12-18 11:20:06.554 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:20:07.679 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:20:07.681 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:20:07.681 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:20:07.681 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:20:07.681 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:20:07.681 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:20:07.681 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:20:09.105 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:20:09.117 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:20:09.246 +01:00 [INF] HTTP GET / responded 200 in 1612.8091 ms
2022-12-18 11:20:45.474 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:20:45.480 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:20:45.483 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:20:45.492 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:20:45.496 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:20:45.500 +01:00 [DBG] Start authorize request
2022-12-18 11:20:45.534 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:20:45.538 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:20:45.552 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:20:45.567 +01:00 [ERR] Invalid redirect_uri: https://localhost:7045/swagger/oauth2-redirect.html
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"https://localhost:7045/swagger/oauth2-redirect.html","state":"U3VuIERlYyAxOCAyMDIyIDExOjIwOjQ1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk="},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:20:45.573 +01:00 [ERR] Request validation failed
2022-12-18 11:20:45.575 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"https://localhost:7045/swagger/oauth2-redirect.html","state":"U3VuIERlYyAxOCAyMDIyIDExOjIwOjQ1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk="},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:20:45.583 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMN0S5NODM3P:00000007","TimeStamp":"2022-12-18T10:20:45.5804249Z","ProcessId":32228,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2022-12-18 11:20:45.616 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 158.5757 ms
2022-12-18 11:20:45.644 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:20:45.649 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:20:45.697 +01:00 [INF] HTTP GET /home/error responded 200 in 72.9912 ms
2022-12-18 11:23:28.841 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:23:28.845 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:23:28.845 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:23:28.848 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:23:28.848 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:23:28.849 +01:00 [DBG] Start authorize request
2022-12-18 11:23:28.850 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:23:28.850 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:23:28.850 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:23:28.853 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:23:28.854 +01:00 [ERR] code_challenge is missing
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"U3VuIERlYyAxOCAyMDIyIDExOjIzOjI4IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","state":"U3VuIERlYyAxOCAyMDIyIDExOjIzOjI4IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk="},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:23:28.855 +01:00 [ERR] Request validation failed
2022-12-18 11:23:28.855 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"U3VuIERlYyAxOCAyMDIyIDExOjIzOjI4IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","state":"U3VuIERlYyAxOCAyMDIyIDExOjIzOjI4IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk="},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:23:28.858 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"","GrantType":"authorization_code","Error":"invalid_request","ErrorDescription":"code challenge required","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMN0S5NODM3Q:00000001","TimeStamp":"2022-12-18T10:23:28.8562010Z","ProcessId":32228,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2022-12-18 11:23:28.862 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 23.0803 ms
2022-12-18 11:23:28.870 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:23:28.871 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:23:28.881 +01:00 [INF] HTTP GET /home/error responded 200 in 11.6942 ms
2022-12-18 11:30:35.512 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:30:35.589 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:30:35.598 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:30:35.609 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:30:35.612 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:30:35.616 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:30:35.618 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:30:35.620 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:30:35.623 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:30:35.808 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:30:36.088 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:30:36.092 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:30:36.095 +01:00 [INF] Hosting environment: Development
2022-12-18 11:30:36.098 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:30:37.397 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:30:37.402 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:30:37.404 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:30:37.406 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:30:37.408 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:30:37.411 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:30:37.413 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:30:37.619 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:30:37.638 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:30:37.884 +01:00 [INF] HTTP GET / responded 200 in 541.7037 ms
2022-12-18 11:31:00.042 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:31:00.053 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:31:00.060 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:31:00.073 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:31:00.081 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:31:00.100 +01:00 [DBG] Start authorize request
2022-12-18 11:31:00.130 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:31:00.147 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:31:00.161 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:31:00.177 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:31:00.196 +01:00 [ERR] code_challenge is missing
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"U3VuIERlYyAxOCAyMDIyIDExOjMwOjU5IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjMwOjU5IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk="},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:31:00.203 +01:00 [ERR] Request validation failed
2022-12-18 11:31:00.209 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"U3VuIERlYyAxOCAyMDIyIDExOjMwOjU5IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjMwOjU5IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk="},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:31:00.230 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"","GrantType":"authorization_code","Error":"invalid_request","ErrorDescription":"code challenge required","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMN0SBJA3KFK:00000007","TimeStamp":"2022-12-18T10:31:00.2277621Z","ProcessId":58244,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2022-12-18 11:31:00.291 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 291.1806 ms
2022-12-18 11:31:00.334 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:31:00.344 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:31:00.390 +01:00 [INF] HTTP GET /home/error responded 200 in 79.6434 ms
2022-12-18 11:35:08.152 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:35:08.236 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:35:08.242 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:35:08.249 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:35:08.251 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:35:08.253 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:35:08.255 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:35:08.257 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:35:08.259 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:35:08.426 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:35:08.719 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:35:08.723 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:35:08.726 +01:00 [INF] Hosting environment: Development
2022-12-18 11:35:08.729 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:35:10.103 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:35:10.109 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:35:10.112 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:35:10.115 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:35:10.117 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:35:10.120 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:35:10.123 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:35:10.344 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:35:10.371 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:35:10.616 +01:00 [INF] HTTP GET / responded 200 in 584.6671 ms
2022-12-18 11:35:37.520 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:35:37.527 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:35:37.533 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:35:37.544 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:35:37.552 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:35:37.576 +01:00 [DBG] Start authorize request
2022-12-18 11:35:37.614 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:35:37.636 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:35:37.658 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:35:37.673 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:35:37.709 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:35:37.719 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"test.api","State":"U3VuIERlYyAxOCAyMDIyIDExOjM1OjM3IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"B5A4EA701395224A9FBDBF2D93859026","Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjM1OjM3IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"TSe8Gs80uYDHt7d88yxGJLt4PTH7shqow__0_L5HkJ0","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:35:38.964 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 11:35:38.971 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 11:35:39.064 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****73-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SE4I6TBD:00000007","TimeStamp":"2022-12-18T10:35:39.0567165Z","ProcessId":40420,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:35:39.073 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"U3VuIERlYyAxOCAyMDIyIDExOjM1OjM3IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","Scope":"test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 11:35:39.088 +01:00 [DBG] Augmenting SignInContext
2022-12-18 11:35:39.102 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 11:35:39.112 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 1616.7039 ms
2022-12-18 11:35:59.416 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:35:59.424 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:35:59.428 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:35:59.433 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:35:59.435 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:35:59.438 +01:00 [DBG] Start authorize request
2022-12-18 11:35:59.441 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:35:59.443 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:35:59.446 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:35:59.449 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:35:59.452 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:35:59.458 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"test.api","State":"U3VuIERlYyAxOCAyMDIyIDExOjM1OjU5IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"B5A4EA701395224A9FBDBF2D93859026","Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjM1OjU5IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"om4bF_mMN3M8gyv4fd_7Nja2iJFaZmmWbm8KygZ-BXM","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:35:59.545 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 11:35:59.549 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 11:35:59.555 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****B3-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SE4I6TBD:00000009","TimeStamp":"2022-12-18T10:35:59.5540939Z","ProcessId":40420,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:35:59.558 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"U3VuIERlYyAxOCAyMDIyIDExOjM1OjU5IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","Scope":"test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 11:35:59.564 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 169.7730 ms
2022-12-18 11:36:25.393 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:36:25.403 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:36:25.407 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:36:25.420 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:36:25.424 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:36:25.429 +01:00 [DBG] Start authorize request
2022-12-18 11:36:25.432 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:36:25.434 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:36:25.436 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:36:25.439 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:36:25.441 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:36:25.443 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"test.api","State":"U3VuIERlYyAxOCAyMDIyIDExOjM2OjI1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"B5A4EA701395224A9FBDBF2D93859026","Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjM2OjI1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"SHY44Y-tu6s0RXVodAJgsgptK3G9m9jtpeHpK1ihuFQ","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:36:25.462 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 11:36:25.466 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 11:36:25.470 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****64-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SE4I6TBD:0000000B","TimeStamp":"2022-12-18T10:36:25.4705521Z","ProcessId":40420,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:36:25.474 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"U3VuIERlYyAxOCAyMDIyIDExOjM2OjI1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","Scope":"test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 11:36:25.479 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 87.0834 ms
2022-12-18 11:37:36.646 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:37:36.668 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:37:36.672 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:37:36.675 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:37:36.679 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:37:36.684 +01:00 [DBG] Start authorize request
2022-12-18 11:37:36.688 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:37:36.692 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:37:36.696 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:37:36.701 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:37:36.705 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:37:36.709 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"test.api","State":"U3VuIERlYyAxOCAyMDIyIDExOjM3OjM2IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"B5A4EA701395224A9FBDBF2D93859026","Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjM3OjM2IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"7aAdrV4jKfohKkVaXTQrTKUvmMSKVu0xYWogLPILOKU","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:37:36.719 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 11:37:36.724 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 11:37:36.728 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****2E-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SE4I6TBD:0000000D","TimeStamp":"2022-12-18T10:37:36.7282547Z","ProcessId":40420,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:37:36.731 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"U3VuIERlYyAxOCAyMDIyIDExOjM3OjM2IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","Scope":"test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 11:37:36.734 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 89.3105 ms
2022-12-18 11:45:07.785 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:45:07.879 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:45:07.886 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:45:07.893 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:45:07.895 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:45:07.898 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:45:07.900 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:45:07.901 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:45:07.903 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:45:08.104 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:45:08.340 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:45:08.342 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:45:08.344 +01:00 [INF] Hosting environment: Development
2022-12-18 11:45:08.346 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:45:09.759 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:45:09.766 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:45:09.771 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:45:09.773 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:45:09.776 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:45:09.779 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:45:09.782 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:45:10.113 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:10.134 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:10.393 +01:00 [INF] HTTP GET / responded 200 in 691.2086 ms
2022-12-18 11:45:28.761 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:28.769 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:28.777 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:45:28.788 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:45:28.796 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:45:28.816 +01:00 [DBG] Start authorize request
2022-12-18 11:45:28.850 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:45:28.866 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:45:28.881 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:45:28.901 +01:00 [ERR] Invalid redirect_uri: https://localhost:7045/swagger/oauth2-redirect.html
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"https://localhost:7045/swagger/oauth2-redirect.html","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjQ1OjI4IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"G53bv_9i-dKplg5qz8w9Vf1dVlngqPaIEwoptKYipL0","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:45:28.910 +01:00 [ERR] Request validation failed
2022-12-18 11:45:28.915 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"https://localhost:7045/swagger/oauth2-redirect.html","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjQ1OjI4IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"G53bv_9i-dKplg5qz8w9Vf1dVlngqPaIEwoptKYipL0","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:45:28.937 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMN0SJNA6HVQ:00000007","TimeStamp":"2022-12-18T10:45:28.9344840Z","ProcessId":48308,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2022-12-18 11:45:28.992 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 258.5124 ms
2022-12-18 11:45:29.031 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:29.038 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:29.071 +01:00 [INF] HTTP GET /home/error responded 200 in 63.2249 ms
2022-12-18 11:45:55.615 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:55.620 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:45:55.631 +01:00 [INF] HTTP GET /home/error responded 200 in 17.0336 ms
2022-12-18 11:45:55.874 +01:00 [INF] HTTP GET /favicon.ico responded 200 in 21.9167 ms
2022-12-18 11:46:22.669 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:46:22.753 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:46:22.758 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:46:22.766 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:46:22.768 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:46:22.770 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:46:22.772 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:46:22.773 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:46:22.775 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:46:22.964 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:46:23.217 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:46:23.220 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:46:23.222 +01:00 [INF] Hosting environment: Development
2022-12-18 11:46:23.223 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:46:24.748 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:46:24.754 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:46:24.756 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:46:24.758 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:46:24.760 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:46:24.762 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:46:24.764 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:46:24.956 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:46:24.977 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:46:25.215 +01:00 [INF] HTTP GET / responded 200 in 523.6929 ms
2022-12-18 11:46:43.166 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:46:43.177 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:46:43.185 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:46:43.197 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:46:43.207 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:46:43.229 +01:00 [DBG] Start authorize request
2022-12-18 11:46:43.272 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:46:43.291 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:46:43.308 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:46:43.321 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:46:43.343 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:46:43.355 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","AllowedRedirectUris":["myapp://callback"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"test.api","State":"U3VuIERlYyAxOCAyMDIyIDExOjQ2OjQzIEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"B5A4EA701395224A9FBDBF2D93859026","Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"myapp://callback","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjQ2OjQzIEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"X154T6hQ_oDy93YZvX1wPIz84BP1ABByhQnTfqxz2LY","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:46:44.546 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 11:46:44.554 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 11:46:44.626 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"myapp://callback","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****8B-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SKDJ6UGN:00000007","TimeStamp":"2022-12-18T10:46:44.6216169Z","ProcessId":58096,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:46:44.636 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"myapp://callback","State":"U3VuIERlYyAxOCAyMDIyIDExOjQ2OjQzIEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","Scope":"test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 11:46:44.654 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 1516.7149 ms
2022-12-18 11:53:22.777 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:53:22.862 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:53:22.870 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:53:22.882 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:53:22.885 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:53:22.888 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:53:22.891 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:53:22.894 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:53:22.898 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:53:23.116 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:53:23.350 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:53:23.352 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:53:23.354 +01:00 [INF] Hosting environment: Development
2022-12-18 11:53:23.356 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:53:25.849 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:53:25.855 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:53:25.857 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:53:25.860 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:53:25.862 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:53:25.865 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:53:25.870 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:53:27.831 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:53:27.861 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:53:28.188 +01:00 [INF] HTTP GET / responded 200 in 2386.3158 ms
2022-12-18 11:53:49.808 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:49.817 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:49.824 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 11:53:49.836 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 11:53:49.844 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 11:53:49.850 +01:00 [DBG] Start discovery request
2022-12-18 11:53:49.940 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:53:50.005 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:53:50.009 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:53:50.045 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.22:04:35". Retires in "103.22:04:35"
2022-12-18 11:53:50.065 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 262.2905 ms
2022-12-18 11:53:50.159 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:50.166 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:50.171 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 11:53:50.180 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 11:53:50.185 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 11:53:50.194 +01:00 [DBG] Start key discovery request
2022-12-18 11:53:50.239 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 90.2957 ms
2022-12-18 11:53:51.256 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:51.259 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:51.261 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:53:51.270 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:53:51.272 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:53:51.284 +01:00 [DBG] Start authorize request
2022-12-18 11:53:51.315 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:51.321 +01:00 [DBG] No user present in authorize request
2022-12-18 11:53:51.326 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:53:51.342 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:53:51.357 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:53:51.381 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:53:51.397 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/signin-oidc","AllowedRedirectUris":["https://localhost:5005/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"tGyCWrxLD9ASBKIpRGC6jQ","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"tGyCWrxLD9ASBKIpRGC6jQ","code_challenge":"rKrxw2mp5YEQ-MGVXUMeA3SPsKiDXdp5EYW1r5Te5-w","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"https://localhost:5005/signin-oidc"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:53:51.408 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 11:53:51.416 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 160.4492 ms
2022-12-18 11:53:51.427 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:51.430 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:51.472 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:53:51.476 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:53:51.481 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:53:51.484 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:53:51.486 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:53:51.557 +01:00 [INF] HTTP GET /Account/Login responded 200 in 131.0720 ms
2022-12-18 11:53:51.686 +01:00 [INF] HTTP GET /lib/bootstrap/dist/css/bootstrap.min.css responded 304 in 106.3379 ms
2022-12-18 11:53:51.693 +01:00 [INF] HTTP GET /css/site.css responded 304 in 111.4154 ms
2022-12-18 11:53:51.695 +01:00 [INF] HTTP GET /duende-logo.svg responded 304 in 50.4109 ms
2022-12-18 11:53:51.696 +01:00 [INF] HTTP GET /lib/jquery/dist/jquery.slim.min.js responded 304 in 111.8370 ms
2022-12-18 11:53:51.693 +01:00 [INF] HTTP GET /lib/bootstrap4-glyphicons/css/bootstrap-glyphicons.min.css responded 304 in 111.0251 ms
2022-12-18 11:53:51.696 +01:00 [INF] HTTP GET /lib/bootstrap/dist/js/bootstrap.bundle.min.js responded 304 in 51.9563 ms
2022-12-18 11:54:06.355 +01:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2022-12-18 11:54:06.364 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:06.369 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:06.411 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:06.415 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:54:06.420 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:54:06.425 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:54:06.430 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:54:06.634 +01:00 [DBG] Augmenting SignInContext
2022-12-18 11:54:06.638 +01:00 [DBG] Adding idp claim with value: local
2022-12-18 11:54:06.642 +01:00 [DBG] Adding auth_time claim with value: 1671360846
2022-12-18 11:54:06.646 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:06.649 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:06.656 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 11:54:06.684 +01:00 [INF] {"Username":"peter@hogent.be","Provider":null,"ProviderUserId":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","DisplayName":"peter@hogent.be","Endpoint":"UI","ClientId":"interactive.public","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMN0SOAQIQ3B:00000013","TimeStamp":"2022-12-18T10:54:06.6782140Z","ProcessId":59820,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2022-12-18 11:54:06.690 +01:00 [INF] HTTP POST /Account/Login responded 302 in 341.7612 ms
2022-12-18 11:54:06.702 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:54:06.707 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:54:06.711 +01:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2022-12-18 11:54:06.717 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint
2022-12-18 11:54:06.721 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2022-12-18 11:54:06.726 +01:00 [DBG] Start authorize callback request
2022-12-18 11:54:06.729 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:54:06.732 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:54:06.737 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:54:06.741 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:54:06.744 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:54:06.752 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/signin-oidc","AllowedRedirectUris":["https://localhost:5005/signin-oidc"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"tGyCWrxLD9ASBKIpRGC6jQ","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"EA05308BED709CFF03E22E18A17EB36B","Raw":{"response_type":"code","state":"tGyCWrxLD9ASBKIpRGC6jQ","code_challenge":"rKrxw2mp5YEQ-MGVXUMeA3SPsKiDXdp5EYW1r5Te5-w","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"https://localhost:5005/signin-oidc"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:54:06.796 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 11:54:06.806 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 11:54:06.859 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/signin-oidc","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****08-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SOAQIQ3B:00000015","TimeStamp":"2022-12-18T10:54:06.8564076Z","ProcessId":59820,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:54:06.865 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"https://localhost:5005/signin-oidc","State":"tGyCWrxLD9ASBKIpRGC6jQ","Scope":"openid profile test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 11:54:06.879 +01:00 [DBG] Augmenting SignInContext
2022-12-18 11:54:06.883 +01:00 [INF] AuthenticationScheme: Identity.Application signed in.
2022-12-18 11:54:06.889 +01:00 [INF] HTTP GET /connect/authorize/callback responded 302 in 189.0476 ms
2022-12-18 11:54:06.918 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:54:06.923 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:54:06.927 +01:00 [INF] HTTP GET /signin-oidc responded 404 in 28.5004 ms
2022-12-18 11:54:07.229 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.234 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.238 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 11:54:07.242 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 11:54:07.246 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 11:54:07.249 +01:00 [DBG] Start discovery request
2022-12-18 11:54:07.253 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.22:04:18". Retires in "103.22:04:18"
2022-12-18 11:54:07.257 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 27.9513 ms
2022-12-18 11:54:07.314 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.317 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.319 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 11:54:07.322 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 11:54:07.324 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 11:54:07.326 +01:00 [DBG] Start key discovery request
2022-12-18 11:54:07.329 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 14.8816 ms
2022-12-18 11:54:07.413 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.415 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.418 +01:00 [DBG] Request path /connect/token matched to endpoint type Token
2022-12-18 11:54:07.424 +01:00 [DBG] Endpoint enabled: Token, successfully created handler: Duende.IdentityServer.Endpoints.TokenEndpoint
2022-12-18 11:54:07.427 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.TokenEndpoint for /connect/token
2022-12-18 11:54:07.433 +01:00 [DBG] Start token request.
2022-12-18 11:54:07.438 +01:00 [DBG] Start client validation
2022-12-18 11:54:07.443 +01:00 [DBG] Start parsing Basic Authentication secret
2022-12-18 11:54:07.447 +01:00 [DBG] Start parsing for secret in post body
2022-12-18 11:54:07.451 +01:00 [DBG] Parser found secret: PostBodySecretParser
2022-12-18 11:54:07.453 +01:00 [DBG] Secret id found: interactive.public
2022-12-18 11:54:07.455 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:54:07.464 +01:00 [DBG] Secret validator success: HashedSharedSecretValidator
2022-12-18 11:54:07.466 +01:00 [DBG] Client validation success
2022-12-18 11:54:07.469 +01:00 [INF] {"ClientId":"interactive.public","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HMN0SOAQIQ3D:00000001","TimeStamp":"2022-12-18T10:54:07.4693616Z","ProcessId":59820,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2022-12-18 11:54:07.474 +01:00 [DBG] Start token request validation
2022-12-18 11:54:07.481 +01:00 [DBG] Start validation of authorization code token request
2022-12-18 11:54:07.496 +01:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2022-12-18 11:54:07.501 +01:00 [DBG] Validation of authorization code token request success
2022-12-18 11:54:07.505 +01:00 [INF] Token request validation success, {"ClientId":"interactive.public","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"****08-1","RefreshToken":"********","UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","code":"28A3801C5AA338A2EF4F3F1AD066FC326D58C88CA8E02B26E73CE48A93E21208-1","redirect_uri":"https://localhost:5005/signin-oidc","code_verifier":"WLrj_h2VxyOXyya3CS2jw2mGfgoZVXTlIrRJjDqSnoI","client_id":"interactive.public","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2022-12-18 11:54:07.512 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:54:07.518 +01:00 [DBG] Getting claims for access token for client: interactive.public
2022-12-18 11:54:07.522 +01:00 [DBG] Getting claims for access token for subject: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:54:07.589 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:54:07.596 +01:00 [DBG] Getting claims for identity token for subject: d8ba6bba-cb55-4259-b84d-9e158e73caf2 and client: interactive.public
2022-12-18 11:54:07.601 +01:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2022-12-18 11:54:07.609 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"openid profile test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****NCBA","$type":"Token"},{"TokenType":"access_token","TokenValue":"****Cpmg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SOAQIQ3D:00000001","TimeStamp":"2022-12-18T10:54:07.6087993Z","ProcessId":59820,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:54:07.614 +01:00 [DBG] Token request success.
2022-12-18 11:54:07.624 +01:00 [INF] HTTP POST /connect/token responded 200 in 211.4681 ms
2022-12-18 11:54:07.739 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.744 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.749 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 11:54:07.756 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 11:54:07.760 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 11:54:07.764 +01:00 [DBG] Start discovery request
2022-12-18 11:54:07.768 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.22:04:18". Retires in "103.22:04:18"
2022-12-18 11:54:07.771 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 32.0578 ms
2022-12-18 11:54:07.812 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.816 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.821 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 11:54:07.828 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 11:54:07.833 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 11:54:07.838 +01:00 [DBG] Start key discovery request
2022-12-18 11:54:07.843 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 31.0689 ms
2022-12-18 11:54:07.917 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.920 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:54:07.923 +01:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2022-12-18 11:54:07.927 +01:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: Duende.IdentityServer.Endpoints.UserInfoEndpoint
2022-12-18 11:54:07.930 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.UserInfoEndpoint for /connect/userinfo
2022-12-18 11:54:07.936 +01:00 [DBG] Start userinfo request
2022-12-18 11:54:07.941 +01:00 [DBG] Bearer token found in header
2022-12-18 11:54:07.970 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:54:07.975 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:54:07.985 +01:00 [DBG] Calling into custom token validator: Duende.IdentityServer.Validation.DefaultCustomTokenValidator
2022-12-18 11:54:07.989 +01:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"2FA1B899C209EEECCA2A656A687490DD","Claims":{"iss":"https://localhost:5005","nbf":1671360847,"iat":1671360847,"exp":1671364447,"aud":"https://localhost:5005/resources","scope":["openid","profile","test.api"],"amr":"pwd","client_id":"interactive.public","sub":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","auth_time":1671360846,"idp":"local","sid":"EA05308BED709CFF03E22E18A17EB36B","jti":"2FA1B899C209EEECCA2A656A687490DD"},"$type":"TokenValidationLog"}
2022-12-18 11:54:07.994 +01:00 [DBG] Creating userinfo response
2022-12-18 11:54:07.998 +01:00 [DBG] Scopes in access token: openid profile test.api
2022-12-18 11:54:08.003 +01:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2022-12-18 11:54:08.011 +01:00 [INF] Profile service returned the following claim types: sub name given_name family_name website preferred_username
2022-12-18 11:54:08.015 +01:00 [DBG] End userinfo request
2022-12-18 11:54:08.020 +01:00 [INF] HTTP GET /connect/userinfo responded 200 in 102.7499 ms
2022-12-18 11:54:45.667 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:54:45.747 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:54:45.753 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:54:45.761 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:54:45.763 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:54:45.766 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:54:45.768 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:54:45.770 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:54:45.774 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:54:45.932 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:54:46.102 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:54:46.106 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:54:46.110 +01:00 [INF] Hosting environment: Development
2022-12-18 11:54:46.112 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:54:50.395 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:54:50.402 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:54:50.406 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:54:50.409 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:54:50.414 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:54:50.418 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:54:50.421 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:54:50.649 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:54:50.674 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:54:50.933 +01:00 [INF] HTTP GET / responded 200 in 596.3531 ms
2022-12-18 11:55:05.731 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:05.744 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:05.749 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:55:05.757 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:55:05.763 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:55:05.776 +01:00 [DBG] Start authorize request
2022-12-18 11:55:05.814 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:55:05.836 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:55:05.847 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:55:05.861 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:55:05.896 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:55:05.911 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/signin-oidc","AllowedRedirectUris":["https://localhost:5005/signin-oidc"],"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"test.api","State":"U3VuIERlYyAxOCAyMDIyIDExOjU1OjA1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"B5A4EA701395224A9FBDBF2D93859026","Raw":{"response_type":"code","client_id":"interactive.public","redirect_uri":"https://localhost:5005/signin-oidc","scope":"test.api","state":"U3VuIERlYyAxOCAyMDIyIDExOjU1OjA1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","code_challenge":"icWqJrEoSNRBGvtXZUEtgs5sdJR6w7x1jht-21lJfYo","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:55:07.261 +01:00 [DBG] Client is configured to not require consent, no consent is required
2022-12-18 11:55:07.270 +01:00 [DBG] Creating Authorization Code Flow response.
2022-12-18 11:55:07.381 +01:00 [INF] {"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/signin-oidc","Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"test.api","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****1B-1","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMN0SP3E3CHG:00000007","TimeStamp":"2022-12-18T10:55:07.3774727Z","ProcessId":29976,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2022-12-18 11:55:07.391 +01:00 [DBG] Authorize endpoint response
{"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ClientId":"interactive.public","RedirectUri":"https://localhost:5005/signin-oidc","State":"U3VuIERlYyAxOCAyMDIyIDExOjU1OjA1IEdNVCswMTAwIChNaWRkZW4tRXVyb3Blc2Ugc3RhbmRhYXJkdGlqZCk=","Scope":"test.api","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2022-12-18 11:55:07.408 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 1697.8386 ms
2022-12-18 11:55:07.453 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:07.463 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:07.468 +01:00 [INF] HTTP GET /signin-oidc responded 404 in 43.9735 ms
2022-12-18 11:55:29.428 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:29.433 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:29.438 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 11:55:29.444 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 11:55:29.447 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 11:55:29.454 +01:00 [DBG] Start discovery request
2022-12-18 11:55:29.509 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:55:29.574 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:55:29.580 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:55:29.643 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.22:02:56". Retires in "103.22:02:56"
2022-12-18 11:55:29.658 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 231.6109 ms
2022-12-18 11:55:51.385 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:51.389 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:51.392 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:55:51.400 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:55:51.404 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:55:51.409 +01:00 [DBG] Start authorize request
2022-12-18 11:55:51.413 +01:00 [DBG] User in authorize request: d8ba6bba-cb55-4259-b84d-9e158e73caf2
2022-12-18 11:55:51.417 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:55:51.422 +01:00 [ERR] client_id is missing or too long
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:55:51.427 +01:00 [ERR] Request validation failed
2022-12-18 11:55:51.429 +01:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:55:51.437 +01:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":"d8ba6bba-cb55-4259-b84d-9e158e73caf2","Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid client_id","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMN0SP3E3CHG:0000000D","TimeStamp":"2022-12-18T10:55:51.4349171Z","ProcessId":29976,"LocalIpAddress":"::1:5005","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2022-12-18 11:55:51.465 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 81.6301 ms
2022-12-18 11:55:51.487 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:51.491 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:51.564 +01:00 [INF] HTTP GET /home/error responded 200 in 78.3028 ms
2022-12-18 11:55:58.919 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:58.923 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:55:58.927 +01:00 [DBG] Request path /connect/deviceauthorization matched to endpoint type DeviceAuthorization
2022-12-18 11:55:58.934 +01:00 [DBG] Endpoint enabled: DeviceAuthorization, successfully created handler: Duende.IdentityServer.Endpoints.DeviceAuthorizationEndpoint
2022-12-18 11:55:58.937 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DeviceAuthorizationEndpoint for /connect/deviceauthorization
2022-12-18 11:55:58.944 +01:00 [WRN] Invalid HTTP request for device authorize endpoint
2022-12-18 11:55:58.949 +01:00 [ERR] Device authorization error: invalid_request:invalid_request
2022-12-18 11:55:58.956 +01:00 [INF] HTTP GET /connect/deviceauthorization responded 400 in 38.8400 ms
2022-12-18 11:56:05.475 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:56:05.482 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:56:05.486 +01:00 [DBG] Request path /connect/ciba matched to endpoint type BackchannelAuthentication
2022-12-18 11:56:05.493 +01:00 [DBG] Endpoint enabled: BackchannelAuthentication, successfully created handler: Duende.IdentityServer.Endpoints.BackchannelAuthenticationEndpoint
2022-12-18 11:56:05.497 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.BackchannelAuthenticationEndpoint for /connect/ciba
2022-12-18 11:56:05.503 +01:00 [WRN] Invalid HTTP request for backchannel authentication endpoint
2022-12-18 11:56:05.512 +01:00 [INF] HTTP GET /connect/ciba responded 400 in 38.1152 ms
2022-12-18 11:56:42.469 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 11:56:42.567 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 11:56:42.576 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 11:56:42.586 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 11:56:42.589 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 11:56:42.593 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 11:56:42.597 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 11:56:42.600 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 11:56:42.602 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 11:56:42.815 +01:00 [INF] Starting IdentityServer...
2022-12-18 11:56:43.073 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 11:56:43.076 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 11:56:43.078 +01:00 [INF] Hosting environment: Development
2022-12-18 11:56:43.080 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 11:56:44.459 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 11:56:44.464 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 11:56:44.467 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 11:56:44.469 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 11:56:44.473 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 11:56:44.475 +01:00 [DBG] Error Url: /home/error
2022-12-18 11:56:44.477 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 11:56:44.695 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:56:44.721 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 11:56:44.987 +01:00 [INF] HTTP GET / responded 200 in 596.2469 ms
2022-12-18 11:57:04.438 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:04.449 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:04.457 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 11:57:04.475 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 11:57:04.482 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 11:57:04.487 +01:00 [DBG] Start discovery request
2022-12-18 11:57:04.569 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:57:04.624 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:57:04.630 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 11:57:04.674 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.22:01:21". Retires in "103.22:01:21"
2022-12-18 11:57:04.691 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 256.9853 ms
2022-12-18 11:57:04.784 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:04.791 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:04.796 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 11:57:04.803 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 11:57:04.807 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 11:57:04.814 +01:00 [DBG] Start key discovery request
2022-12-18 11:57:04.858 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 79.7198 ms
2022-12-18 11:57:05.765 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:05.767 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:05.769 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 11:57:05.777 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 11:57:05.780 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 11:57:05.793 +01:00 [DBG] Start authorize request
2022-12-18 11:57:05.818 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:05.823 +01:00 [DBG] No user present in authorize request
2022-12-18 11:57:05.828 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:57:05.842 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:57:05.852 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:57:05.882 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:57:05.895 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/signin-oidc","AllowedRedirectUris":["https://localhost:5005/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"bCLVW0oihKr4VOf8YF8vTg","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"bCLVW0oihKr4VOf8YF8vTg","code_challenge":"g3vbkg5zEjWbTHsHJnbVVC6RJHkyc5Bt0WIoExnhSZQ","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"https://localhost:5005/signin-oidc"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 11:57:05.903 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 11:57:05.910 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 144.5988 ms
2022-12-18 11:57:05.920 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:05.923 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:05.975 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 11:57:05.979 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 11:57:05.983 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 11:57:05.985 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 11:57:05.988 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 11:57:06.065 +01:00 [INF] HTTP GET /Account/Login responded 200 in 146.1815 ms
2022-12-18 11:57:17.859 +01:00 [INF] HTTP GET /lib/bootstrap/dist/css/bootstrap.min.css.map responded 200 in 47.5783 ms
2022-12-18 11:57:18.058 +01:00 [INF] HTTP GET /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map responded 200 in 10.8220 ms
2022-12-18 12:01:44.531 +01:00 [INF] Starting Duende IdentityServer version 6.1.7+96a6d0b746e709d2eb8fbba1036a38ac0a2459b6 (.NET 7.0.0)
2022-12-18 12:01:44.619 +01:00 [WRN] You do not have a valid license key for the Duende software. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please start a conversation with us: https://duendesoftware.com/contact
2022-12-18 12:01:44.625 +01:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2022-12-18 12:01:44.632 +01:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2022-12-18 12:01:44.635 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2022-12-18 12:01:44.639 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2022-12-18 12:01:44.642 +01:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2022-12-18 12:01:44.645 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2022-12-18 12:01:44.648 +01:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2022-12-18 12:01:44.863 +01:00 [INF] Starting IdentityServer...
2022-12-18 12:01:45.126 +01:00 [INF] Now listening on: https://localhost:5005
2022-12-18 12:01:45.129 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-18 12:01:45.131 +01:00 [INF] Hosting environment: Development
2022-12-18 12:01:45.133 +01:00 [INF] Content root path: C:\tmp\ThePlaceToMeet.Enhanced2\ThePlaceToMeet.Enhanced\Apps\ThePlaceToMeet.Identity.Service.App
2022-12-18 12:01:46.985 +01:00 [DBG] Login Url: /Account/Login
2022-12-18 12:01:46.989 +01:00 [DBG] Login Return Url Parameter: ReturnUrl
2022-12-18 12:01:46.992 +01:00 [DBG] Logout Url: /Account/Logout
2022-12-18 12:01:46.994 +01:00 [DBG] ConsentUrl Url: /consent
2022-12-18 12:01:46.996 +01:00 [DBG] Consent Return Url Parameter: returnUrl
2022-12-18 12:01:46.999 +01:00 [DBG] Error Url: /home/error
2022-12-18 12:01:47.001 +01:00 [DBG] Error Id Parameter: errorId
2022-12-18 12:01:47.193 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 12:01:47.212 +01:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2022-12-18 12:01:47.494 +01:00 [INF] HTTP GET / responded 200 in 561.2378 ms
2022-12-18 12:02:06.793 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:06.804 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:06.812 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 12:02:06.826 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 12:02:06.833 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 12:02:06.840 +01:00 [DBG] Start discovery request
2022-12-18 12:02:06.939 +01:00 [ERR] Error unprotecting key with kid 3F418EA344184A7957FA5C4C239B1402.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 12:02:07.031 +01:00 [ERR] Error unprotecting key with kid 5FB01DBB453F9D5AFB05C168B8F38A06.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 12:02:07.036 +01:00 [ERR] Error unprotecting key with kid 6439733C42437E8C182FD746C755E9FC.
System.Security.Cryptography.CryptographicException: The payload was invalid. For more information go to http://aka.ms/dataprotectionwarning
   at Microsoft.AspNetCore.DataProtection.Cng.CbcAuthenticatedEncryptor.DecryptImpl(Byte* pbCiphertext, UInt32 cbCiphertext, Byte* pbAdditionalAuthenticatedData, UInt32 cbAdditionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.Cng.Internal.CngAuthenticatedEncryptorBase.Decrypt(ArraySegment`1 ciphertext, ArraySegment`1 additionalAuthenticatedData)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.DataProtection.DataProtectionCommonExtensions.Unprotect(IDataProtector protector, String protectedData)
   at Duende.IdentityServer.Services.KeyManagement.DataProtectionKeyProtector.Unprotect(SerializedKey key) in /_/src/IdentityServer/Services/Default/KeyManagement/DataProtectionKeyProtector.cs:line 56
   at Duende.IdentityServer.Services.KeyManagement.KeyManager.<GetKeysFromStoreAsync>b__20_0(SerializedKey x) in /_/src/IdentityServer/Services/Default/KeyManagement/KeyManager.cs:line 435
2022-12-18 12:02:07.106 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.21:56:18". Retires in "103.21:56:18"
2022-12-18 12:02:07.133 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 346.5957 ms
2022-12-18 12:02:07.288 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:07.299 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:07.303 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 12:02:07.310 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 12:02:07.313 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 12:02:07.319 +01:00 [DBG] Start key discovery request
2022-12-18 12:02:07.362 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 84.4561 ms
2022-12-18 12:02:08.262 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.265 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.266 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 12:02:08.274 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 12:02:08.276 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 12:02:08.287 +01:00 [DBG] Start authorize request
2022-12-18 12:02:08.311 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.316 +01:00 [DBG] No user present in authorize request
2022-12-18 12:02:08.320 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 12:02:08.333 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 12:02:08.343 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 12:02:08.366 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 12:02:08.382 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/Account/Login","AllowedRedirectUris":["https://localhost:5005/Account/Login"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"uKhip8H-8cjd_jyCRQXfVg","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"uKhip8H-8cjd_jyCRQXfVg","code_challenge":"UCsSYWyiiGCBfj5pEvWbJmIDXGMcu_bACnLIBKi8eHg","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"https://localhost:5005/Account/Login"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 12:02:08.391 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 12:02:08.397 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 134.5413 ms
2022-12-18 12:02:08.405 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.407 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.459 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.462 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 12:02:08.465 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 12:02:08.467 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 12:02:08.470 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 12:02:08.534 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.537 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.539 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 12:02:08.542 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 12:02:08.545 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 12:02:08.547 +01:00 [DBG] Start discovery request
2022-12-18 12:02:08.551 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.21:56:17". Retires in "103.21:56:17"
2022-12-18 12:02:08.554 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 19.7540 ms
2022-12-18 12:02:08.561 +01:00 [INF] HTTP GET /Account/Login responded 200 in 157.3063 ms
2022-12-18 12:02:08.604 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.607 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:08.610 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 12:02:08.613 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 12:02:08.615 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 12:02:08.617 +01:00 [DBG] Start key discovery request
2022-12-18 12:02:08.621 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 16.8287 ms
2022-12-18 12:02:18.332 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:18.336 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:18.340 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 12:02:18.355 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 12:02:18.360 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 12:02:18.364 +01:00 [DBG] Start discovery request
2022-12-18 12:02:18.368 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.21:56:07". Retires in "103.21:56:07"
2022-12-18 12:02:18.370 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 38.7658 ms
2022-12-18 12:02:18.433 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:18.438 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:18.441 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 12:02:18.447 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 12:02:18.452 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 12:02:18.456 +01:00 [DBG] Start key discovery request
2022-12-18 12:02:18.460 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 26.8358 ms
2022-12-18 12:02:18.925 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:18.931 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:18.935 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 12:02:18.941 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 12:02:18.945 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 12:02:18.949 +01:00 [DBG] Start authorize request
2022-12-18 12:02:18.954 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:18.959 +01:00 [DBG] No user present in authorize request
2022-12-18 12:02:18.963 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 12:02:18.968 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 12:02:18.973 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 12:02:18.977 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 12:02:18.982 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/Account/Login","AllowedRedirectUris":["https://localhost:5005/Account/Login"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"faY2NKkbO2FZox83uSxNZg","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"faY2NKkbO2FZox83uSxNZg","code_challenge":"UVJb5gw3QmgTzkQ0y6b_xZBs4sz_s97Apq8XYc5nv-Y","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"https://localhost:5005/Account/Login"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 12:02:18.986 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 12:02:18.990 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 64.5072 ms
2022-12-18 12:02:19.003 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:19.008 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:19.016 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:19.021 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 12:02:19.024 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 12:02:19.028 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 12:02:19.032 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 12:02:19.093 +01:00 [INF] HTTP GET /Account/Login responded 200 in 92.2656 ms
2022-12-18 12:02:19.239 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:19.242 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:19.245 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 12:02:19.248 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 12:02:19.250 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 12:02:19.252 +01:00 [DBG] Start discovery request
2022-12-18 12:02:19.254 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.21:56:06". Retires in "103.21:56:06"
2022-12-18 12:02:19.256 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 17.6886 ms
2022-12-18 12:02:19.309 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:19.313 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:19.316 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 12:02:19.318 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 12:02:19.321 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 12:02:19.324 +01:00 [DBG] Start key discovery request
2022-12-18 12:02:19.327 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 18.2878 ms
2022-12-18 12:02:44.322 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.324 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.327 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 12:02:44.329 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 12:02:44.332 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 12:02:44.335 +01:00 [DBG] Start discovery request
2022-12-18 12:02:44.338 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.21:55:41". Retires in "103.21:55:41"
2022-12-18 12:02:44.342 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 20.6817 ms
2022-12-18 12:02:44.394 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.398 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.402 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 12:02:44.407 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 12:02:44.410 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 12:02:44.412 +01:00 [DBG] Start key discovery request
2022-12-18 12:02:44.415 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 21.4485 ms
2022-12-18 12:02:44.746 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.751 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.755 +01:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2022-12-18 12:02:44.772 +01:00 [DBG] Endpoint enabled: Authorize, successfully created handler: Duende.IdentityServer.Endpoints.AuthorizeEndpoint
2022-12-18 12:02:44.776 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.AuthorizeEndpoint for /connect/authorize
2022-12-18 12:02:44.779 +01:00 [DBG] Start authorize request
2022-12-18 12:02:44.783 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.787 +01:00 [DBG] No user present in authorize request
2022-12-18 12:02:44.790 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 12:02:44.793 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 12:02:44.796 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 12:02:44.800 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 12:02:44.804 +01:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"interactive.public","ClientName":null,"RedirectUri":"https://localhost:5005/Account/Login","AllowedRedirectUris":["https://localhost:5005/Account/Login"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile test.api","State":"brKmDl9VJfBWAyFG2sKRNA","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"response_type":"code","state":"brKmDl9VJfBWAyFG2sKRNA","code_challenge":"lVhIyCYmKq_NuY9gPgnSTlhZjQZrFpB8tbBBAKyXN1Q","code_challenge_method":"S256","client_id":"interactive.public","scope":"openid profile test.api","redirect_uri":"https://localhost:5005/Account/Login"},"$type":"AuthorizeRequestValidationLog"}
2022-12-18 12:02:44.809 +01:00 [INF] Showing login: User is not authenticated
2022-12-18 12:02:44.814 +01:00 [INF] HTTP GET /connect/authorize responded 302 in 67.6198 ms
2022-12-18 12:02:44.824 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.827 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.836 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:44.840 +01:00 [DBG] Start authorize request protocol validation
2022-12-18 12:02:44.843 +01:00 [DBG] client configuration validation for client interactive.public succeeded.
2022-12-18 12:02:44.847 +01:00 [DBG] Checking for PKCE parameters
2022-12-18 12:02:44.851 +01:00 [DBG] Calling into custom validator: Duende.IdentityServer.Validation.DefaultCustomAuthorizeRequestValidator
2022-12-18 12:02:44.860 +01:00 [INF] HTTP GET /Account/Login responded 200 in 36.2646 ms
2022-12-18 12:02:45.109 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:45.112 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:45.116 +01:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2022-12-18 12:02:45.122 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryEndpoint
2022-12-18 12:02:45.127 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2022-12-18 12:02:45.130 +01:00 [DBG] Start discovery request
2022-12-18 12:02:45.134 +01:00 [INF] Active signing key found with kid A73425393466B777E4F4A2322B0220F5 for alg RS256. Expires in "89.21:55:40". Retires in "103.21:55:40"
2022-12-18 12:02:45.138 +01:00 [INF] HTTP GET /.well-known/openid-configuration responded 200 in 29.0305 ms
2022-12-18 12:02:45.190 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:45.194 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2022-12-18 12:02:45.199 +01:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2022-12-18 12:02:45.202 +01:00 [DBG] Endpoint enabled: Discovery, successfully created handler: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint
2022-12-18 12:02:45.204 +01:00 [INF] Invoking IdentityServer endpoint: Duende.IdentityServer.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2022-12-18 12:02:45.207 +01:00 [DBG] Start key discovery request
2022-12-18 12:02:45.209 +01:00 [INF] HTTP GET /.well-known/openid-configuration/jwks responded 200 in 19.0208 ms
